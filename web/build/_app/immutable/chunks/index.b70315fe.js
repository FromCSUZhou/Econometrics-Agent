import{d as s}from"./index.7deef04d.js";const l=async a=>await fetch(`${s}/utils/gravatar?email=${a}`,{method:"GET",headers:{"Content-Type":"application/json"}}).then(async t=>{if(!t.ok)throw await t.json();return t.json()}).catch(t=>(console.log(t),null)),c=async a=>{await fetch(`${s}/utils/db/download`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}}).then(n=>{if(!n.ok)throw new Error("Network response was not ok");return n.blob()}).then(n=>{const t=window.URL.createObjectURL(n),o=document.createElement("a");o.href=t,o.download="webui.db",document.body.appendChild(o),o.click(),window.URL.revokeObjectURL(t)}).catch(n=>(console.log(n),null))},h=async a=>{let n=null;const t=await fetch(`${s}/users/permissions/user`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}}).then(async o=>{if(!o.ok)throw await o.json();return o.json()}).catch(o=>(console.log(o),n=o.detail,null));if(n)throw n;return t},u=async(a,n)=>{let t=null;const o=await fetch(`${s}/users/permissions/user`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({...n})}).then(async e=>{if(!e.ok)throw await e.json();return e.json()}).catch(e=>(console.log(e),t=e.detail,null));if(t)throw t;return o},d=async(a,n,t)=>{let o=null;const e=await fetch(`${s}/users/update/role`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({id:n,role:t})}).then(async r=>{if(!r.ok)throw await r.json();return r.json()}).catch(r=>(console.log(r),o=r.detail,null));if(o)throw o;return e},w=async a=>{let n=null;const t=await fetch(`${s}/users/`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}}).then(async o=>{if(!o.ok)throw await o.json();return o.json()}).catch(o=>(console.log(o),n=o.detail,null));if(n)throw n;return t||[]},p=async(a,n)=>{let t=null;const o=await fetch(`${s}/users/${n}/quota`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",...a&&{authorization:`Bearer ${a}`}}}).then(async e=>{if(!e.ok)throw await e.json();return e.json()}).then(e=>e).catch(e=>(t=e,console.log(e),null));if(t)throw t;return o},y=async(a,n)=>{let t=null;const o=await fetch(`${s}/users/${n}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}}).then(async e=>{if(!e.ok)throw await e.json();return e.json()}).catch(e=>(console.log(e),t=e.detail,null));if(t)throw t;return o},f=async(a,n,t)=>{let o=null;const e=await fetch(`${s}/users/${n}/update`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({profile_image_url:t.profile_image_url,email:t.email,name:t.name,password:t.password!==""?t.password:void 0})}).then(async r=>{if(!r.ok)throw await r.json();return r.json()}).catch(r=>(console.log(r),o=r.detail,null));if(o)throw o;return e};export{p as a,h as b,u as c,c as d,d as e,w as f,l as g,y as h,f as u};
